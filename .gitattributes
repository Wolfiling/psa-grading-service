# ===============================================
# GITATTRIBUTES - PSA GRADING APP
# ===============================================
# üîß Configuration des attributs Git pour gestion optimale des fichiers
# üöÄ Optimis√© pour workflow GitHub Actions et d√©ploiement automatis√©

# ===============================================
# üåç CONFIGURATION GLOBALE
# ===============================================
# Normalisation des fins de ligne (LF pour coh√©rence cross-platform)
* text=auto eol=lf

# ===============================================
# üìù FICHIERS TEXTE
# ===============================================
# Code source JavaScript/TypeScript
*.js    text
*.mjs   text  
*.jsx   text
*.ts    text
*.tsx   text

# Configuration et donn√©es
*.json  text
*.yaml  text
*.yml   text
*.toml  text
*.ini   text
*.cfg   text

# Templates et environnement
*.template  text
.env.*      text
Dockerfile* text

# ===============================================
# üåê WEB ET FRONTEND
# ===============================================
# HTML/CSS
*.html  text diff=html
*.htm   text diff=html
*.css   text diff=css
*.scss  text
*.sass  text
*.less  text

# Webfonts
*.woff2 binary
*.woff  binary
*.ttf   binary
*.otf   binary
*.eot   binary

# ===============================================
# üìä DOCUMENTATION
# ===============================================
# Markdown avec d√©tection diff am√©lior√©e
*.md    text diff=markdown
*.mdx   text diff=markdown

# Documentation
*.txt   text
*.rst   text
*.org   text

# ===============================================
# üîß CONFIGURATION OUTILS
# ===============================================
# Git
.gitignore      text
.gitattributes  text
.gitmodules     text

# GitHub
.github/**      text

# EditorConfig
.editorconfig   text

# Linting
.eslintrc*      text
.prettierrc*    text
.stylelintrc*   text

# ===============================================
# üöÄ D√âPLOIEMENT ET CI/CD
# ===============================================
# Docker
Dockerfile      text
.dockerignore   text
docker-compose*.yml text

# Scripts shell (toujours LF)
*.sh            text eol=lf
*.bash          text eol=lf

# PM2 et process management
ecosystem.config.js text
*.config.js         text

# ===============================================
# üì¶ GESTION DES PACKAGES
# ===============================================
# Node.js
package.json        text
package-lock.json   text -diff
yarn.lock          text -diff
.nvmrc             text

# ===============================================
# üñºÔ∏è IMAGES ET M√âDIAS
# ===============================================
# Images (binaires, pas de diff)
*.png   binary
*.jpg   binary
*.jpeg  binary
*.gif   binary
*.ico   binary
*.svg   text
*.webp  binary
*.bmp   binary
*.tiff  binary

# Vid√©os (binaires)
*.mp4   binary
*.webm  binary
*.avi   binary
*.mov   binary

# Audio (binaires)
*.mp3   binary
*.wav   binary
*.ogg   binary

# ===============================================
# üìÑ DOCUMENTS ET ARCHIVES
# ===============================================
# PDF et documents
*.pdf   binary
*.doc   binary
*.docx  binary
*.xls   binary
*.xlsx  binary
*.ppt   binary
*.pptx  binary

# Archives
*.zip   binary
*.tar   binary
*.gz    binary
*.7z    binary
*.rar   binary

# ===============================================
# üîê S√âCURIT√â ET CERTIFICATES
# ===============================================
# Certificats et cl√©s (binaires sensibles)
*.pem   binary
*.key   binary
*.cert  binary
*.crt   binary
*.p12   binary
*.pfx   binary

# ===============================================
# üóÑÔ∏è BASES DE DONN√âES
# ===============================================
# Exports de base de donn√©es
*.sql   text
*.dump  binary
*.sqlite binary
*.db    binary

# ===============================================
# ‚öôÔ∏è CONFIGURATION SP√âCIALE GITHUB
# ===============================================
# Fichiers √† toujours traiter comme texte pour PR diff
.env.template           text
.env.*.template         text
SECURITY.md            text
CONTRIBUTING.md        text

# Scripts de d√©ploiement (critique pour review)
scripts/**/*.sh        text eol=lf diff

# Configuration Docker (importante pour review)
docker-compose*.yml    text diff

# ===============================================
# üö´ FICHIERS √Ä EXCLURE DU DIFF
# ===============================================
# Fichiers g√©n√©r√©s automatiquement
package-lock.json  -diff
yarn.lock         -diff

# Logs (pas pertinents pour diff)
*.log             -diff

# Coverage reports (trop verbeux)
coverage/**       -diff

# ===============================================
# üîç D√âTECTION DE FICHIERS SENSIBLES
# ===============================================
# Pattern pour d√©tecter secrets potentiels
*.env             text filter=remove-secrets
*.env.local       text filter=remove-secrets
config/secrets.json   text filter=remove-secrets

# ===============================================
# üéØ CONFIGURATION LINGUIST GITHUB
# ===============================================
# Exclusion des fichiers g√©n√©r√©s des statistiques
package-lock.json     linguist-generated=true
yarn.lock            linguist-generated=true
coverage/**          linguist-generated=true
build/**             linguist-generated=true
dist/**              linguist-generated=true

# Documentation
*.md                 linguist-documentation=true
docs/**              linguist-documentation=true

# Configuration
*.json               linguist-language=JSON
*.yml                linguist-language=YAML
*.yaml               linguist-language=YAML

# Vendored dependencies
node_modules/**      linguist-vendored=true

# ===============================================
# üöÄ OPTIMISATIONS POUR GITHUB ACTIONS
# ===============================================
# Fichiers critiques pour CI/CD (toujours en LF)
.github/workflows/**     text eol=lf

# Scripts de build et d√©ploiement
scripts/deployment/**    text eol=lf
scripts/security/**      text eol=lf
scripts/monitoring/**    text eol=lf

# ===============================================
# üìä MERGE STRATEGIES
# ===============================================
# Changelog - toujours merger (pas de conflit)
CHANGELOG.md        merge=union

# Package-lock - utiliser version locale en cas de conflit
package-lock.json   merge=ours

# Configuration environnement - manuel
.env.template       merge=manual

# ===============================================
# üîß FILTERS PERSONNALIS√âS (optionnel)
# ===============================================
# Filter pour nettoyer les secrets avant commit (√† configurer)
# git config filter.remove-secrets.clean 'sed "s/password=.*/password=REDACTED/g"'
# git config filter.remove-secrets.smudge cat

# ===============================================
# üìù NOTES IMPORTANTES
# ===============================================
# Ce .gitattributes :
# ‚úÖ Normalise les fins de ligne (LF) pour coh√©rence
# ‚úÖ Optimise les diffs pour code review GitHub  
# ‚úÖ Prot√®ge contre commit accidentel de binaires
# ‚úÖ Am√©liore statistiques linguist GitHub
# ‚úÖ Configure types MIME appropri√©s
# ‚úÖ Exclut fichiers g√©n√©r√©s des stats
#
# Pour appliquer r√©troactivement :
# git add --renormalize .
# git commit -m "Normalize line endings"